<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리자 페이지</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* 전체 스타일 */
        body {
            font-family: 'Pretendard', sans-serif;
        }
        /* 추가 스타일 */
        .container {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>신청받은 상세정보</h1>
        <form id="adminForm">
            <div class="mb-3">
                <label for="category" class="form-label">카테고리</label>
                <input type="text" class="form-control" id="category" value="토큰에서 받은 카테고리" readonly>
            </div>
            <div class="mb-3">
                <label for="manageNum" class="form-label">관리 번호</label>
                <input type="text" class="form-control" id="manageNum" value="토큰에서 받은 관리번호" readonly>
            </div>
            <div class="mb-3">
                <label for="serialNum" class="form-label">시리얼 번호</label>
                <input type="text" class="form-control" id="serialNum" required>
            </div>
            <button type="submit" class="btn btn-primary">확인</button>
        </form>

        <h2 class="mt-5">신청받은 목록 리스트</h2>
        <table class="table">
            <thead>
            <tr>
                <th>카테고리</th>
                <th>관리 번호</th>
                <th>시리얼 번호</th>
            </tr>
            </thead>
            <tbody id="requestList">
            <!-- 신청받은 목록이 여기에 추가됩니다. -->
            </tbody>
        </table>
    </div>

    <script>
        document.getElementById('adminForm').addEventListener('submit', function(event) {
            event.preventDefault();
            // 백엔드에 데이터 전송 로직 추가
            const category = document.getElementById('category').value;
            const manageNum = document.getElementById('manageNum').value;
            const serialNum = document.getElementById('serialNum').value;

            // 예시: AJAX 요청을 통해 데이터 전송
            // fetch('/api/insert', {
            //     method: 'POST',
            //     headers: {
            //         'Content-Type': 'application/json'
            //     },
            //     body: JSON.stringify({ category, manageNum, serialNum })
            // }).then(response => {
            //     if (response.ok) {
            //         // 성공적으로 추가된 경우 목록에 추가
            //         const newRow = `<tr><td>${category}</td><td>${manageNum}</td><td>${serialNum}</td></tr>`;
            //         document.getElementById('requestList').insertAdjacentHTML('beforeend', newRow);
            //         // 입력 필드 초기화
            //         document.getElementById('adminForm').reset();
            //     }
            // });

        });
    </script>
</body>
</html>
